document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("calendar"),t=document.getElementById("currentMonth"),n=document.getElementById("prevMonth"),d=document.getElementById("nextMonth"),o=document.getElementById("selectedDayLabel"),a=document.getElementById("selectedDate"),c=document.getElementById("selectedTime"),l=document.querySelectorAll(".horas div");let s=new Date;function i(){e.innerHTML="";const n=s.getMonth(),d=s.getFullYear();t.textContent=s.toLocaleString("es-ES",{month:"long",year:"numeric"});const c=s.getDay(),l=new Date(d,n+1,0).getDate(),i=new Date(d,n,0).getDate();for(let t=0;t<c;t++){const n=document.createElement("div");n.classList.add("day"),n.textContent=i-c+1+t,n.style.opacity="0.5",e.appendChild(n)}for(let t=1;t<=l;t++){const c=document.createElement("div");c.classList.add("day"),c.textContent=t,c.addEventListener("click",(()=>{const e=new Date(d,n,t),c=e.toLocaleDateString("es-ES",{weekday:"long"}),l=e.toLocaleDateString("es-ES",{month:"long"}),s=e.getDate();o.textContent=`${c}, ${l} ${s}`,a.value=`${d}-${String(n+1).padStart(2,"0")}-${String(t).padStart(2,"0")}`})),e.appendChild(c)}}function r(e){s.setMonth(s.getMonth()+e),i()}s.setDate(1),n.addEventListener("click",(()=>r(-1))),d.addEventListener("click",(()=>r(1))),l.forEach((e=>{e.addEventListener("click",(()=>{l.forEach((e=>e.classList.remove("selected"))),e.classList.add("selected"),c.value=e.textContent.trim()}))})),i()}));